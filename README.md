# NewsWebsite
Project LEARNING_CENTER-30

## Запуск проекта
Проект упакован в Docker. Достаточно скачать репозиторий и в директории проекта в терминале указать docker-compose up. Тестировать проект предлагается через Postman или другой HTTP-клиент для тестирования API (адрес запросов http://localhost:9000/).

### В новостном сайте доступны различные действия. Вот некоторые из них:

**POST-запрос /auth/registration** - регистрация нового пользователя. 

**POST-запрос /auth/login** Как и в случае регистрации возвращается json с jwt-токеном, который нужно поместить в раздел Headers: Key - "Authorization"; Value - "Bearer {jwt-token}". Вводить без кавычек, иначе формат не примет. 

**POST-запрос /auth/logout** - Покинуть аккаунт. Через час выход из аккаунта совершится автоматически. В этом случае ключ Authorization в Headers нужно убрать (в Postman - снять галочку). 

**GET-запрос /news** - адрес получения новостей за последние 24 часа. Если пользователь авторизован, новости будут показаны с учётом его предпочтений.

**GET-запрос /news/{post_id}** - конкретная новость по её id.

**GET-запрос /news/{post_id}/more** - конкретная новость по её id без сокращения текста.

**GET-запрос /news/{post_id}/like** - поставить новости лайк.

**DELETE-запрос /news/admin/{post_id}** - удаление новости, запрос доступен пользователям с ролью ROLE_ADMIN. Получить эту роль с помощью пользовательских запросов нельзя, только напрямую через базу данных. Для тестирования функций администратора авторизуйтесь как username - katy@gmail.com, password - 77711.

**PATCH-запрос /news/admin/{post_id}** - изменить новость.

**POST-запрос /news/admin/create** - создать новость.

**GET-запрос /news/{post_id}/comments** - показать комментарии к новости.

**POST-запрос /news/{post_id}/comments/create** - написать комментарий.

**DELETE-запрос /news/{post_id}/comments/admin/{id}** - удалить конкретный комментарий.

**POST-запрос /person/edit/tags** - добавить в аккаунт пользователя предпочитаемый/заблокированный тэг.

**DELETE-запрос /person/edit/tags** - удалить предпочитаемый/заблокированный тэг.

**POST-запрос /news/admin/{post_id}/edit/tags** - добавить новости тэг.

**DELETE-запрос /news/admin/{post_id}/edit/tags** - удалить у новости тэг.

**Формат json'а для отправки POST и PATCH запросов нужно смотреть по коду раздела DTO. Такие действия, как оставить лайк, написать комментарий и настроить предпочтения можно доступны только авторизованным пользователям.**
